{"mappings":";;;;;;;;;AEAO,MAAM,4CAAY;IACvB,MAAM,KAAK,SAAS,aAAa,CAAC;IAClC,IAAI,IACF,GAAG,aAAa,CAAC,WAAW,CAAC;AAEjC;AAGO,MAAM,4CAAY,CAAC,MAAM;IAC5B;IACA,MAAM,SAAS,CAAC,yBAAyB,EAAE,KAAK,EAAE,EAAE,IAAI,MAAM,CAAC;IAC/D,SAAS,aAAa,CAAC,QAAQ,qBAAqB,CAAC,cAAc;IACnE,OAAO,UAAU,CAAC,2CAAW;AACjC;;;ADTO,MAAM,4CAAQ,OAAO,OAAO;IACjC,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,sCAAI,EAAE;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBACJ;0BACA;YACF;QACF;QAEA,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;YACjC,CAAA,GAAA,yCAAQ,EAAE,WAAW;YACrB,OAAO,UAAU,CAAC;gBAChB,SAAS,MAAM,CAAC;YAClB,GAAG;QACL;QACA,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,CAAA,GAAA,yCAAQ,EAAE,SAAS,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO;IAChD;AACF;;;ADvBA,eAAe;AACf,MAAM,oCAAc,SAAS,aAAa,CAAC;AAE3C,IAAI,mCACF,kCAAY,gBAAgB,CAAC,UAAU,CAAC;IACtC,EAAE,cAAc;IAChB,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;IACpD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;IAC1D,CAAA,GAAA,yCAAI,EAAE,OAAO;AACf","sources":["public/js/index.js","public/js/login.js","public/js/alerts.js"],"sourcesContent":["import '@babel/polyfill'\nimport { login } from \"./login\";\n\n// DOM elements\nconst formElement = document.querySelector('.form');\n\nif (formElement) {\n  formElement.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    login(email, password);\n  });\n}\n","import axios from \"axios\";\nimport { showAlert } from \"./alerts\";\n\n\nexport const login = async (email, password) => {\n  try {\n    const res = await axios({\n      method: 'POST',\n      url: '/api/v1/users/login',\n      data: {\n        email,\n        password,\n      },\n    });\n\n    if (res.data.status === 'success') {\n      showAlert('success', 'Logged in successfully!');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n    console.log(res);\n  } catch (error) {\n    console.error(error);\n    showAlert('error', error.response.data.message);\n  }\n};\n\n","export const hideAlert = () => {\n  const el = document.querySelector('.alert');\n  if (el) {\n    el.parentElement.removeChild(el);\n  }\n};\n\n// type is 'success' or 'error'\nexport const showAlert = (type, msg) => {\n    hideAlert();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector('body').insertAdjacentElement('afterbegin', markup);\n    window.setTimeout(hideAlert, 5000)\n}"],"names":[],"version":3,"file":"app.js.map","sourceRoot":"/"}